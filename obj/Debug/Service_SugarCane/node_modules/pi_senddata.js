
var request = require('request');
var config_file = require('pi_config.js');
var config = [];
config_file.getcon_localtunnel(function (res_config) {
    config = res_config;

});

var url = config.camera.server;//"http://61.91.14.253:9003/api/";

function send_data(api_name, json_data, callback) {
    var master_url = url + api_name;

    console.log(master_url);

    request({
        url: master_url,
        method: "GET",
        json: true,   // <--Very important!!!
        body: json_data
    }, function (error, response, body) {
        debugger;
        if (error) {
            console.log(error);
            callback(error);
            return;
        }
        //console.log(body);
        callback(body);
        return;
       
    });
}

exports.send_data = send_data;